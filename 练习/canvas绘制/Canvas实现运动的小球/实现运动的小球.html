<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/ColorBoll.js"></script>
    <script src="js/underScore-min.js"></script>
</head>
<body>
<canvas id="canvas" height="500" width="900" style="border: 1px solid #000;"></canvas>
<script>
    //1.获取标签和上下文
    var canvas=document.getElementById("canvas");
    var ctx=canvas.getContext('2d');
//创建数组
     var ballArray=[];
     //创建颜色数组
    var colors = ['red','blue','green','yellow','pink','orange','purple','skyblue'];
   // 3.监听鼠标的移动事件创建小球
    canvas.onmousemove=function (e) {
        var color =colors[_.random(0,colors.length-1)];
        ballArray.push(new ColorBall({
            x:e.offsetX,
            y:e.offsetY,
            r:30,
            color:color
        }));
    }
    //利用定时器更新小球的状态
    setInterval(function () {
        //清屏
        ctx.clearRect(0,0,canvas.width,canvas.height);
        //先更新
        for(var i=0; i<ballArray.length;i++){
            ballArray[i].update();
        }
        //绘制
        for (var i=0;i<ballArray.length;i++){
            ballArray[i].render(ctx)
        }
    },20);
</script>
</body>
</html>